# [ 목차 ]

### 1. [게임명 : EsCafe](#프로젝트명-escafe)
### 2. [컨셉](#메인컨셉--방탈출)
### 3. [관련 이미지와 동영상](#관련-이미지--동영상)
### 4. [대표 이미지](#대표-이미지)
### 5. [컨셉과 대표이미지 기반 작품 묘사](#컨셉과-대표이미지-기반-작품묘사)
### 6. [<"EsCafe"> 구성 요소](#escafe-구성-요소)
### 7. [게임 시스템 디자인](#게임-시스템-디자인)
#### a. [게임 오브젝트 분해](#1-게임-오브젝트-분해)
#### b.[파라미터(속성)](#2-파라미터속성)
#### c.[행동](#3-행동)
#### d.[상태](#4-상태)
#### e.[플레이어 캐릭터 속성(파라미터)](#5-플레이어-캐릭터-속성파라미터)
#### f.[게임의 규칙](#6-게임의-규칙)
#### g.[게임에서 사용될 공식](#7-게임에서-사용될-공식)
### 8. [개발 요구사항 & 흐름도](#개발-요구사항--흐름도)
#### a.[요구사항(6주 / 1년)](#1요구사항-6주--1년)
#### b.[시간별 흐름도](#시간별-흐름도)
#### c.[키보드 이벤트에 대한 흐름도](#키보드-이벤트에-대한-흐름도)
#### d.[용어정리](#용어정리)
### 9. [개발 작업 일정(6주)](#개발작업-일정6주)
### 10. [1주차 작업 결과](#1주차-작업-결과)
### 11. [2주차 작업 결과](#2주차-작업-결과)

# [프로젝트명: EsCafe]

# [컨셉]

## 메인컨셉 : 방탈출

- 지속적인 컨텐츠 추가가 가능한 퍼즐 추리 형태의 게임.

1인칭으로 개발하며 플레이 하는 사람이 몰입할 수 있고 부가적인 퍼즐 형식의 방탈출로 유저가 흥미를 느끼고 탈출 한다는 몰입감을 느끼게 해주는 것이 목표

### 서브 컨셉 1 : 몰입감

단순히 움직이면서 방을 탈출하는게 아닌, 유저가 직접 작동하는 사물을 통해서 게임내의 요소와 상호작용함.

### 서브 컨셉 2 : 1인칭

1인칭 시점으로 마치 내가 현장에 있는 느낌으로 게임을 플레이 할 수 있음.

3인칭 게임은 보다 시야가 넓어 현장에 있다는 몰입감을 받기 힘든 점이 있다.

게임의 컨텐츠 사물과의 상호작용을 통해 1인칭으로 게임을 플레이하면서 유저가 게임에 흥미롭게 다가갈 수 있음
### 서브 컨셉 3 : 퍼즐(미니게임)

게임의 핵심적인 부가적인 요소

유저는 기존의 방 탈출 게임에서 보지 못했던 퍼즐(미니게임)을 풀면서 길을 열거나 특정한 능력을 얻을 수 있음.

유저가 성취감을 느끼며 합당한 보상을 받게 하는것이 목표.

### 서브 컨셉 4 : 특수 능력

유저는 퍼즐(미니게임)을 풀거나 방을 클리어 했을 시 , 이에 대한 보상으로 능력이 주어짐.

능력에는 순간이동, 빠른 걸음, 미니 게임 시간 제한 늘리기

게임의 목적은 플레이 하는 유저가 보상감을 느껴야 하는게 목적임으로 그에 걸맞는 컨텐츠를 구상함.

### 서브 컨셉 5 : 성장성

지속 개발 가능한 상호작용 컨텐츠와 부가적인 게임 내적 요소들을 통해 끊임없이 유지 보수, 추가 할 수 있는 게임 개발. (ex : ai추가)

<br><br>

# [관련 이미지 & 동영상]

- 이미지  
  <img src="./img/관련이미지.jpg" height="600">
- 동영상
  [![](./img/관련동영상.png)](https://youtu.be/jpON9RgkenE)

<br><br>

# [대표 이미지]

<img src="./img/대표화면.png" height="500">


<br><br>

# [컨셉과 대표이미지 기반 작품묘사]

> ### 대표이미지 기반 :
<img src="./img/작품묘사.png" height="500">

> ### 컨셉 기반: 1인칭으로 몰입하며 막힌 길을 게임을 통해 해금하며 탈출하는 게임

# [<"EsCafe"> 구성 요소]

한줄평 : <br>
- 긴장과 성취감 그리고 몰입을 할 수있는 탈출 게임

## 1. 메커니즘

[도전 과제]

1. 주어진 시간내에 능력을 깨닫고 탈출해야함.
2. 문에 새겨진 잠금장치를 풀기위해 퍼즐을 풀어야함.

[재미 요소]

1. 게임을 진행하기 위해선 단순 지형 지물을 피해가는 것이 아닌
상호작용하기 위해 설계된 미니게임들을 풀어 나가야함.

2. 유저는 게임을 플레이하며 조건 등을 달성할 시 새로운 능력들
을 얻을 수 있음.

3. 시간 제한을 기반으로 유저에게 확실한 목표를 심어주며 미니
게임 등을 플레이하여 유저가 성취감을 느끼게 해 줌.

<br>

## 2. 이야기

[만들게 된 배경]  
관심있던 방탈출 게임에 바이오하자드와 같이 서바이벌 호러 장르 게임을 추가해 만들고 싶어 시도하게 되었습니다. 

[카메라 관점]  
시야에 제한을 두어 공포감을 조성하고자 1인칭으로 설정함.

<br>

## 3. 미적요소

[디자인]

플레이 하는 사람으로 하여금 긴장감과 몰입감을 주기 위해 어둡게 설정
벽돌과 횟불등을 사용하여 효과를 줌.


[음향]  

어둡고 소름돋는 음악을 사용함.
남은시간이 적거나 적이 가까이 있을수록 템포를 높여 긴장감을 조성함.

<br>

## 4. 기술
Unity 사용

# [게임 시스템 디자인]

## 1. 게임 오브젝트 분해

|연번|오브젝트 이름| 이미지|
|:----:|:----:|:----:|
|1|플레이어|<img src="./img/플레이어.png" height="150">|
|2|횃불|<img src="./img/횃불.jpg" height="150">|
|3|배터리|<img src="./img/배터리.jpg" height="150">|
|4|발전기|<img src="./img/발전기.png" height="150">|
|5|승강기|<img src="./img/승강기.jpg" height="150">|
|6|통신기|<img src="./img/통신기.jpg" height="150">|
|7|미니게임|<img src="./img/미니게임.png" height="150">|

## 2. 파라미터(속성)

### 1) 오브젝트 이름 : 플레이어(시점)

|속성|영문 명칭|설명|비고|
|:----:|:----:|:----:|:----:|
|시점|Ca_sight|플레이어가 바라보는 방향을 비추는 카메라 값 |y= (0,180) x= (0,180)|
|타이머|Ca_timer|게임의 제한시간으로 플레이어 시점에 둠 |0, 1800|

### 2) 오브젝트 이름 : 횃불

|속성|영문 명칭|설명|비고|
|:----:|:----:|:----:|:----:|
|빛|Obj_torchlight|어두운 공간속을 밝혀주는 값|0,1|

### 3) 오브젝트 이름 : 배터리

|속성|영문 명칭|설명|비고|
|:----:|:----:|:----:|:----:|
|전기|battery|발전기에 동력원이 되는 파라미터|0,1|

### 4) 오브젝트 이름 : 발전기

|속성|영문 명칭|설명|비고|
|:----:|:----:|:----:|:----:|
|전기|battery|발전기에 동력원이 되는 파라미터|0,1|
|충전량|G_storage|한번의 충전되는 전력량을 나타내주는 값|40|
|최대용량|G_maxstorage|충전 가능한 전력량의 최대치로 한계치를 의미|0,100|

### 5) 오브젝트 이름 : 승강기

|속성|영문 명칭|설명|비고|
|:----:|:----:|:----:|:----:|
|상태|L_state|미니게임 활성화 가능 여부를 판단한다.(전력)|0,1|
|활성화|L_activate|미니게임 화면으로 전환된다.|0,1|

### 6) 오브젝트 이름 : 통신기

|속성|영문 명칭|설명|비고|
|:----:|:----:|:----:|:----:|
|활성화|T_activate|통신기를 연결한다.|0,1|
|힌트1|T_MiniHint|미니게임에 대한 힌트를 얻는다.|0,1|
|힌트2|T_GameHint|같은 층내 배터리가 숨겨져있을 위치를 알려준다.|0,1|

### 7) 오브젝트 이름 : 미니게임

|속성|영문 명칭|설명|비고|
|:----:|:----:|:----:|:----:|
|타이머|M_timer|게임플레이를 진행할수있는 제한시간|0,300|
||| 추가 예정 ||

## 3. 행동

### 오브젝트 이름 : 플레이어

|행동|설명|
|:----:|:----:|
|이동| W, A, S, D 로 플레이어 움직임 제어|
|상호작용| 게임내 오브젝트들을 T버튼을 통해 아이템의 경우 획득 및 사용, 특수 기기의 경우 활성화 |
|대쉬|C 버튼을 누를시 초당 5의 에너지를 소모하며 플레이어의 속력 값 일시 2로 증가|
|텔레포트|V 버튼을 누를시 에너지 30소모하며 플레이어가 보고있는 방향으로 좌표 값 50이동|

## 4. 상태

### 1) 오브젝트 이름 : 발전기

|현상태|전이상태|전이조건|
|:----:|:----:|:----:|
|배터리 방전|배터리 충전|발전기 배터리 교체|
|배터리 충전|배터리 방전|전력양 전체 소비|

### 2) 오브젝트 이름 : 승강기

|현상태|전이상태|전이조건|
|:----:|:----:|:----:|
|전력차단|전력충전|발전기 배터리 충전|
|전력충전|전력차단|배터리 방전|
|미니게임 비활성화|미니게임 활성화|전력 충전|
|미니게임 활성화|미니게임 비활성화|전력 차단|

### 3) 오브젝트 이름 : 통신기

|현상태|전이상태|전이조건|
|:----:|:----:|:----:|
|대기|통신|플레이어 통신기 상호작용|
|통신|대기상태|통신기 통신종료|

### 4) 오브젝트 이름 : 미니게임

|현상태|전이상태|전이조건|
|:----:|:----:|:----:|
|전력차단|전력충전|발전기 배터리 충전|
|전력충전|전력차단|배터리 방전|
|대기|활성화|승강기  상호작용|
|활성화|대기|미니게임 종료 및 전력차단|

## 5. 플레이어 캐릭터 속성(파라미터)

|속성|영문명칭|설명|비고|
|:----:|:----:|:----:|:----:|
|이동속도|User_speed|플레이어가 이동시 속도값.|0,2|
|에너지|User_energy|대쉬 및 벽통과를 하는데 사용하는 값.  </br>  스킬이 지속되지 않을시 초당 5씩 차오른다.|최소 0, 최대 100|
|아이템 슬롯|User_item|플레이어의 아이템 슬롯으로 아이템을 보관하는 배열||

## 6. 게임의 규칙

무너져 내리는 실험실에 갇히기전에 탈출하라.

### 1) 핵심 규칙

- 제한 시간 1시간 이내에 해당 층을 돌파해야함
- 미니게임 시간이 종료되면 미니게임의 설정은 초기화 됨

## 7. 게임에서 사용될 공식

- 전력 증감
   • 배터리 교체 -> 전력량 40% , 10%당 3분의 시간    <br>
   • 충전 전력량 100퍼 초과시 100퍼로 설정  <br>
   • 전력사용 오브젝트 활성화 - > 전력량 감소 시작  <br>
   • 전력량 0퍼 시 전기사용 오브젝트 비활성화
   
- 미니게임 타이머

   • 미니게임 활성화 후 시간 감소    <br>
   • 시간증가 스킬 사용시 남은 시간 * 2  <br>
   • 최대시간 300초
   
   
- 에너지

   • 스킬사용 = 사용가능 에너지 보유시 사용 <br>
   • 대쉬 = 초당 5의 에너지 소모, 에너지 0 or 키다운 해제시 중지  <br>
   • 텔레포트 = 30사용 카메라 시점으로 좌표 50 이동  <br>
   • 회복 = 스킬 미사용 5초 이후부터 초당 5씩 회복
    
# [개발 요구사항 & 흐름도]

## 1.[요구사항 (6주 / 1년)]

### 6주 요구사항
1. 게임을 실행시 메인화면이 출력되며 메인화면에는 시작, 환경 설정, 종료 버튼이 있다.
2. 시작화면을 누르면 인트로 화면으로 전환된다.
3. 환경 설정 버튼을 누르면 음량을 조절할 수 있는 슬라이더가 나온다.
4. 종료 버튼을 누를 시 게임이 종료 된다.
5. 인트로에서는 간략한 스토리와 조작법이 나온다.
6. 조작법은 WASD로 앞, 뒤, 오른쪽, 왼쪽으로 움직이고 T버튼으로 물체와 상호작용을 한다, esc버튼을 누르면 종료, CV버튼은 기술이다.
7. 인트로화면에서 간략한 스토리와 조작법을 A/S 버튼으로 스킵 가능하다.
8. 인트로화면에서 S버튼을 누르면 인게임 씬으로 이동한다.
9. 인게임 씬은 1인칭으로 설계된 플레이어가 마우스, 키보드를 통해 시점을 이동하고 위치를 이동한다.
10. 유저는 문, 통신기, 보드게임판 등과 접촉시 상호작용 여부를 묻는 텍스트를 출력하고 t버튼을 누를 시 물체와 상호작용한다.
11. 미니게임이란 게임 진행중, 혹은 게임의 마지막 구간에서 설치된 미니 게임 보드판을 유저가 상호작용할 수 있는 물체이다. 
12. 미니게임을 실행시 미니게임 씬으로 전환되며 미니 게임을 클리어시 다시 인게임 씬으로 돌아온다.
13. 인게임과 미니게임은 제한 시간이 존재한다. 
14. 미니게임은 숫자 퍼즐 형식의 게임이 될것이다.

### 1년 요구사항

1. 한 게임안에 여러개의 챕터가 존재하며 챕터가 진행될수록 컨텐츠가 늘어난다.
2. 늘어나는 컨텐츠에는 다른 장르의 미니게임과 스킬등이 있다.
3. 스킬은 대쉬/점멸 등이 스킬이 존재한다.
4. 챕터2 부터 유저를 방해하는 적군과 함정이라는 요소가 설치된다.
5. 챕터2 부터는 체력이 설정되며 유저는 적군과 함정에 계속해서 피해를 입으면 게임 오버 된다.
6. 챕터2 부터는 상호작용시 유저가 게임 진행도중 여러가지 도움을 텍스트로 줄 통신기 개념이 추가된다.
7. 아이템이라는 요소가 추가되며 아이템은 유저가 인벤토리에 저장할 수 있으며 아이템은 열쇠, 전력(배터리)가 해당한다. 


## [시간별 흐름도]

<img src="./img/시간별 흐름도.png" height="500">

# [키보드 이벤트에 대한 흐름도]

<img src="./img/키보드 이벤트에 대한 흐름도.png" height="500">

# [용어정리]



<table>
  <tr>
    <td>No</td>  <td colspan="2">화면</td> <td>용어</td> <td>설명</td>
  </tr>
  <tr>
   <td>1</td> <td rowspan="4">메인메뉴</td> <td rowspan="4">화면요소</td> 
   <td colspan="2">게임을 실행했을때 나오는 메인 메뉴 화면이다. 시작, 환경 설정, 종료 버튼이 있다.</td>
  </tr>
   <tr>
    <td>2</td>  <td>게임 시작 버튼</td> <td>게임 시작 버튼을 누르면 인트로 화면으로 전환된다.</td>
  </tr>
   </tr>
   <tr>
    <td>3</td>  <td>게임 환경 설정</td> <td>환경 설정 버튼을 누르면 환경 설정 화면이 나온다.</td>
  </tr>
  <tr>
    <td>4</td>  <td>게임 종료 버튼</td> <td>게임 종료 버튼을 누르면 게임이 종료된다.</td>
  </tr>
   <tr>
   <td>5</td> <td rowspan="2">인트로</td> <td rowspan="2">화면요소</td> 
   <td>스토리 텍스트</td> <td>환경 설정 버튼을 누르면 환경 설정 화면이 나온다.</td>
  </tr>
  <tr>
    <td>6</td>  <td>조작법 텍스트</td> <td>조작법에 대한 텍스트가 나온다.</td>
  </tr>
  <tr>
   <td>7</td> <td rowspan="29">인게임</td> <td rowspan="4">화면요소</td> 
   <td>아이템 슬롯</td> <td>보유한 아이템을 보여 준다.</td>
  </tr>
   <tr>
    <td>8</td>  <td>에너지</td> <td>현재 에너지를 보여준다.</td>
  </tr>
   <tr>
    <td>9</td>  <td>스킬</td> <td>보유한 스킬을 보여준다.</td>
  </tr>
   <tr>
    <td>10</td>  <td>타이머</td> <td>게임의 제한 시간을 보여 준다.</td>
  </tr>
   <tr>
    <td>11</td> <td rowspan="25">스크립트요소</td>  <td>move</td> <td> W, A, S, D로 움직임을 담는 배열</td>
  </tr>
  <tr>
    <td>12</td> <td>User</td> <td>플레이어</td>
  </tr>
   <tr>
    <td>13</td> <td>User.item</td> <td>플레이어의 아이템 슬롯 가지고있는 아이템을 보관함</td>
  </tr>
   <tr>
    <td>14</td> <td>User.energy</td> <td>플레이어의 에너지를 나타냄</td>
  </tr>
   <tr>
    <td>15</td> <td>User.skil</td> <td>플레이어가 가지고 있는 스킬</td>
  </tr>
     <tr>
    <td>16</td> <td>User.speed</td> <td>플레이어의 속도</td>
  </tr>
  <tr>
    <td>17</td> <td>Ca.sight</td> <td>카메라의 시점을 담는 변수</td>
  </tr>
   <tr>
    <td>18</td> <td>Ca.updown</td> <td>마우스를 움직였을때 위아래로 카메라 시점을 움직임</td>
  </tr>
   <tr>
    <td>19</td> <td>Ca.leftright</td> <td>마우스를 움직였을때 좌우로 카메라 시점을 움직임</td>
  </tr>
   <tr>
    <td>20</td> <td>Ca.timer</td> <td>게임의 제한시간을 표시함</td>
  </tr>
   <tr>
    <td>21</td> <td>Map</td> <td>게임상 플레이어의 위치를 확인할수있는 미니맵</td>
  </tr>
  <tr>
    <td>22</td> <td>Map.bhint</td> <td>통신기의 힌트를 사용시 생기는 배터리의 위치 맵핑</td>
  </tr>
   <tr>
    <td>23</td> <td>Interaction</td> <td>물체와 상호작용을 판단함</td>
  </tr>
    <tr>
    <td>24</td> <td>Obj_torchlight</td> <td>횃불</td>
  </tr>
  <tr>
    <td>25</td> <td>battery</td> <td>T버튼과 상호작용하는 배터리</td>
  </tr>
  <tr>
    <td>26</td> <td>Obj_generator</td> <td>T버튼과 상호작용하는 발전기</td>
  </tr>
   <tr>
    <td>27</td> <td>G_storage</td> <td>발전기의 용량</td>
  </tr>
  <tr>
    <td>28</td> <td>G_maxstorage</td> <td>발전기의 최대 용량</td>
  </tr>
    <tr>
    <td>29</td> <td>Obj_lift</td> <td>게임 클리어의 관문 (승강기)</td>
  </tr>
      <tr>
    <td>30</td> <td>L_state</td> <td>승강기의 현 상태를 나타냄</td>
  </tr>
    <tr>
    <td>31</td> <td>L_activate</td> <td>승강기를 통한 미니게임 실행</td>
  </tr>
    <tr>
    <td>32</td> <td>Obj_telephone</td> <td>T버튼과 상호작용하는 무전기. 상호작용시 힌트를 출력함</td>
  </tr>
    <tr>
    <td>33</td> <td>T_activate</td> <td>통신기 활성화</td>
  </tr>
    <tr>
    <td>34</td> <td>T_gamehint</td> <td>전력을 위한 배터리의 위치 제공 (미니맵)</td>
  </tr>
    <tr>
    <td>35</td> <td>T_minihint</td> <td>미니게임 힌트 제공</td>
  </tr>
   <tr>
    <td>36</td>  <td rowspan="7">미니게임</td> <td rowspan="2">화면요소</td>
    <td>보드판</td> <td>보드판과 보드판안에 숫자가 생성된다.</td>
  </tr>
  <tr>
    <td>37</td> <td>타이머</td> <td>제한 시간을 보여 준다.</td>
  </tr>
   <tr>
    <td>38</td> </td> <td rowspan="1">스크립트요소</td>
    <td>M_timer</td> <td>미니게임을 플레이하는 제한시간</td>
  </tr>
</table>

# [개발작업 일정(6주)]

<img src="./img/개발작업_일정_6주.png" height="500">

# [1주차 작업 결과]

작업명 : 메인메뉴와 인트로 구현

- 요구사항
 1. 게임을 실행하면 게임 시작 버튼, 환경 설정, 종료 버튼이 있다.
 2. 시작화면을 누르면 인트로가 나온다.
 3. 환경 설정 버튼을 누르면 소리 On/off 혹은 조절이 나온다.
 4. 종료 버튼을 누르면 게임이 종료된다.
 5. 인트로에서는 간략한 스토리와 조작법이 나온다.

- 작업 내용
 1. 게임 시작 버튼을 누를 시 두번째 신(인트로)로 넘어 간다. (100%)
 2. 환경 설정 버튼을 누르면 팝업창이 나오고 음량을 조절하는 드래그창이 나온다 (100%)
 3. 종료 버튼을 누르면 게임 종료가 된다.
 4. 인트로에서 간략한 스토리 텍스트가 나오고 10초가 지나면 조작법을 보여주는 텍스트로 전환 한다. 인트로를 생략하는 스킵 버튼도 추가 한다. (100%)

- 구현 영상

# [2주차 작업 결과]

작업명 : 인게임 신 만들기

- 요구사항
1. 메인 메뉴 - 인트로 - 인게임으로 진행하도록 인게임 신을 따로 제작.
2. 인게임에서 플레이어가 활동할 수 있는 기본적인 맵 생성.
3. 플레이어를 생성하고 플레이어에 기본적인 값 부여(속도, 시점)
4. 플레이어가 키 값(W, A, S, D)을 받으면 움직이도록 설정.

- 작업 내용

1. 게임 시작 버튼 - 인트로 화면 - 인게임 신으로 구성하게 만듬. (100%)
2. 플레이어가 움직일 수 있는 기본적인 맵을 생성함. (움직임 테스트용 공간 게임맵은 추후 제작예정) (50%) 
3. 플레이어를 생성하고 플레이어가 가진 기본값을 설정 (유저 시점, 속도, 키 이벤트) (100%)
4. 어두운 환경속 시야 확보를 위한 횃불 생성. (100%)

- 구현 영상

  ![2week](https://user-images.githubusercontent.com/70739208/140795120-8b7b1d82-e341-4be4-bcef-f8da06fcf791.gif)
